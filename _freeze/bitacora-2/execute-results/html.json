{
  "hash": "9dd8575f5dc0ee066766725e3df1cc0e",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"bitacora-2\"\neditor: visual\n---\n\n\n#Bitácora #2\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(cowplot)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAdjuntando el paquete: 'cowplot'\n\nThe following object is masked from 'package:lubridate':\n\n    stamp\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(dplyr)\nlibrary(janitor)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAdjuntando el paquete: 'janitor'\n\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(hrbrthemes)\ndf <- read_csv2(\"base_datos/universidades_europeas.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nℹ Using \"','\" as decimal and \"'.'\" as grouping mark. Use `read_delim()` for more control.\nRows: 4424 Columns: 37── Column specification ────────────────────────────────────────────────────────\nDelimiter: \";\"\nchr  (5): Curricular units 1st sem (grade), Curricular units 2nd sem (grade)...\ndbl (29): Marital status, Application mode, Application order, Course, Dayti...\nnum  (3): Previous qualification (grade), Admission grade, Unemployment rate\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n\n```{.r .cell-code}\nview(df)\ndf <- df %>% clean_names()\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- df %>%\n  mutate(marital_status = case_when(\n    marital_status == 1 ~ \"Soltero\",\n    marital_status == 2 ~ \"Casado\",\n    marital_status == 3 ~ \"Viudo\",\n    marital_status == 4 ~ \"Divorciado\",\n    marital_status == 5 ~ \"Unión Libre\",\n    marital_status == 6 ~ \"Separado\",\n    TRUE ~ NA\n  ))\n\ndf <- df %>%\n  mutate(daytime_evening_attendance = case_when(\n    daytime_evening_attendance == 0 ~ \"Tarde\",\n    daytime_evening_attendance == 1 ~ \"Mañana\",\n    TRUE ~ NA\n  ))\nview(df)\n\ndf$curricular_units_1st_sem_grade <- as.integer(df$curricular_units_1st_sem_grade)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: NAs introducidos por coerción\n```\n\n\n:::\n\n```{.r .cell-code}\ndf$marital_status <- as.factor(df$marital_status)\nglimpse(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 4,424\nColumns: 37\n$ marital_status                               <fct> Soltero, Soltero, Soltero…\n$ application_mode                             <dbl> 17, 15, 1, 17, 39, 39, 1,…\n$ application_order                            <dbl> 5, 1, 5, 2, 1, 1, 1, 4, 3…\n$ course                                       <dbl> 171, 9254, 9070, 9773, 80…\n$ daytime_evening_attendance                   <chr> \"Mañana\", \"Mañana\", \"Maña…\n$ previous_qualification                       <dbl> 1, 1, 1, 1, 1, 19, 1, 1, …\n$ previous_qualification_grade                 <dbl> 1220, 1600, 1220, 1220, 1…\n$ nacionality                                  <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 6…\n$ mothers_qualification                        <dbl> 19, 1, 37, 38, 37, 37, 19…\n$ fathers_qualification                        <dbl> 12, 3, 37, 37, 38, 37, 38…\n$ mothers_occupation                           <dbl> 5, 3, 9, 5, 9, 9, 7, 9, 9…\n$ fathers_occupation                           <dbl> 9, 3, 9, 3, 9, 7, 10, 9, …\n$ admission_grade                              <dbl> 1273, 1425, 1248, 1196, 1…\n$ displaced                                    <dbl> 1, 1, 1, 1, 0, 0, 1, 1, 0…\n$ educational_special_needs                    <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ debtor                                       <dbl> 0, 0, 0, 0, 0, 1, 0, 0, 0…\n$ tuition_fees_up_to_date                      <dbl> 1, 0, 0, 1, 1, 1, 1, 0, 1…\n$ gender                                       <dbl> 1, 1, 1, 0, 0, 1, 0, 1, 0…\n$ scholarship_holder                           <dbl> 0, 0, 0, 0, 0, 0, 1, 0, 1…\n$ age_at_enrollment                            <dbl> 20, 19, 19, 20, 45, 50, 1…\n$ international                                <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 1…\n$ curricular_units_1st_sem_credited            <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ curricular_units_1st_sem_enrolled            <dbl> 0, 6, 6, 6, 6, 5, 7, 5, 6…\n$ curricular_units_1st_sem_evaluations         <dbl> 0, 6, 0, 8, 9, 10, 9, 5, …\n$ curricular_units_1st_sem_approved            <dbl> 0, 6, 0, 6, 5, 5, 7, 0, 6…\n$ curricular_units_1st_sem_grade               <int> 0, 14, 0, NA, NA, NA, 13,…\n$ curricular_units_1st_sem_without_evaluations <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ curricular_units_2nd_sem_credited            <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ curricular_units_2nd_sem_enrolled            <dbl> 0, 6, 6, 6, 6, 5, 8, 5, 6…\n$ curricular_units_2nd_sem_evaluations         <dbl> 0, 6, 0, 10, 6, 17, 8, 5,…\n$ curricular_units_2nd_sem_approved            <dbl> 0, 6, 0, 5, 6, 5, 8, 0, 6…\n$ curricular_units_2nd_sem_grade               <chr> \"0.0\", \"13.666.666.666.66…\n$ curricular_units_2nd_sem_without_evaluations <dbl> 0, 0, 0, 0, 0, 5, 0, 0, 0…\n$ unemployment_rate                            <dbl> 108, 139, 108, 94, 139, 1…\n$ inflation_rate                               <chr> \"1.4\", \"-0.3\", \"1.4\", \"-0…\n$ gdp                                          <chr> \"1.74\", \"0.79\", \"1.74\", \"…\n$ target                                       <chr> \"Dropout\", \"Graduate\", \"D…\n```\n\n\n:::\n\n```{.r .cell-code}\ndf <- df %>%\n  mutate(debtor = case_when(\n    debtor == 0 ~ \"No\",\n    debtor == 1 ~ \"Si\",\n    TRUE ~ NA\n  ))\ndf <- df %>% \n  mutate(target = case_when(\n    target == \"Dropout\" ~ \"Desertor\",\n    target == \"Enrolled\" ~ \"Matriculado\",\n    target == \"Graduate\" ~ \"Graduado\",\n    TRUE ~ NA\n  ))\nview(df)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf %>%count(debtor, target) %>% \n  ggplot(aes(x=target, y = n, fill = debtor))+\n  geom_col(position = \"dodge\") + \n  theme_classic()+\n  labs(\n    x = \"Tipo de Estudiante\",\n    y = \"Frecuencia\",\n    fill = \"Deudor\",\n    title = \"Deudor o no Deudor según Categoría del Estudiante\"\n  ) +\n  scale_fill_manual(values = c(\"Si\" = \"blue\",\"No\"=\"red\"))+\n  theme(legend.position = \"bottom\", \n        panel.border = element_rect(colour = \"black\", fill = NA),\n        plot.title = element_text(hjust = 0.5))\n```\n\n::: {.cell-output-display}\n![](bitacora-2_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}